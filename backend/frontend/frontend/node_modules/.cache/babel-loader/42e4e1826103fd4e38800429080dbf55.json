{"ast":null,"code":"import _slicedToArray from\"/Users/jade/PycharmProjects/todo-project/backend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Modal,Form,Button}from'react-bootstrap';import'bootstrap/dist/css/bootstrap.css';import{useForm}from'react-hook-form';import{useState}from\"react\";import axios from\"axios\";import jQuery from'jquery';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddTodoForm(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var closeModal=function closeModal(){return setShow(false);};var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit;function getCookie(name){var cookieValue=null;if(document.cookie&&document.cookie!==''){var cookies=document.cookie.split(';');for(var i=0;i<cookies.length;i++){var cookie=jQuery.trim(cookies[i]);if(cookie.substring(0,name.length+1)===name+'='){cookieValue=decodeURIComponent(cookie.substring(name.length+1));break;}}}return cookieValue;}var csrfToken=getCookie('csrftoken');function onSubmitTodoForm(data){closeModal();console.log(data);axios.post('http://localhost:8000/api/todo-all/',data,{headers:{'X-CSRFToken':csrfToken}}).then(function(response){console.log(response);});window.location.reload();}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-primary\",onClick:function onClick(){return setShow(true);},block:true,children:\"Add\"}),/*#__PURE__*/_jsxs(Modal,{show:show,onHide:function onHide(){return setShow(false);},size:\"lg\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(\"h2\",{children:\"Add Item\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit(onSubmitTodoForm),children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"titleForm\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Title\"}),/*#__PURE__*/_jsx(Form.Control,{name:\"title\",placeholder:\"Do.... something?\",ref:register})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"descriptionForm\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Description\"}),/*#__PURE__*/_jsx(Form.Control,{name:\"details\",as:\"textarea\",rows:\"5\",placeholder:\"Idk\",ref:register})]}),/*#__PURE__*/_jsx(Form.Group,{controlId:\"completedForm\",children:/*#__PURE__*/_jsx(Form.Check,{name:\"completed\",label:\"Completed\",ref:register})}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"outline-primary\",block:true,children:\"Add\"})]})})]})]});}export default AddTodoForm;","map":{"version":3,"sources":["/Users/jade/PycharmProjects/todo-project/backend/frontend/src/components/AddTodoForm.jsx"],"names":["Modal","Form","Button","useForm","useState","axios","jQuery","AddTodoForm","show","setShow","closeModal","register","handleSubmit","getCookie","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","csrfToken","onSubmitTodoForm","data","console","log","post","headers","then","response","window","location","reload"],"mappings":"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","sourcesContent":["import { Modal, Form, Button } from 'react-bootstrap'\nimport 'bootstrap/dist/css/bootstrap.css'\nimport { useForm } from 'react-hook-form'\nimport { useState } from \"react\"\nimport axios from \"axios\"\nimport jQuery from 'jquery'\n\nfunction AddTodoForm() {\n    const [show, setShow] = useState(false)\n\n    const closeModal = () => setShow(false)\n\n    const {register, handleSubmit} = useForm()\n\n    function getCookie(name) {\n        var cookieValue = null;\n        if (document.cookie && document.cookie !== '') {\n            var cookies = document.cookie.split(';');\n            for (var i = 0; i < cookies.length; i++) {\n                var cookie = jQuery.trim(cookies[i]);\n                if (cookie.substring(0, name.length + 1) === (name + '=')) {\n                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                    break;\n                }\n            }\n        }\n        return cookieValue;\n    }\n\n    var csrfToken = getCookie('csrftoken')\n\n    function onSubmitTodoForm(data) {\n\n        closeModal()\n\n        console.log(data)\n\n        axios.post('http://localhost:8000/api/todo-all/', data, {\n            headers: {'X-CSRFToken': csrfToken}\n        })\n\n            .then((response) => {\n                console.log(response)\n            })\n\n        window.location.reload()\n\n    }\n\n    return (\n        <div>\n            <Button variant='outline-primary' onClick={() => setShow(true)} block>Add</Button>\n\n            <Modal\n                show={show}\n                onHide={() => setShow(false)}\n                size='lg'\n            >\n                <Modal.Header closeButton>\n                    <h2>Add Item</h2>\n                </Modal.Header>\n                <Modal.Body>\n                    <Form onSubmit={handleSubmit(onSubmitTodoForm)}>\n                        <Form.Group controlId='titleForm'>\n                            <Form.Label>Title</Form.Label>\n                            <Form.Control name='title' placeholder='Do.... something?' ref={register}/>\n                        </Form.Group>\n                        <Form.Group controlId='descriptionForm'>\n                            <Form.Label>Description</Form.Label>\n                            <Form.Control name='details' as='textarea' rows='5' placeholder='Idk' ref={register}/>\n                        </Form.Group>\n                        <Form.Group controlId='completedForm'>\n                            <Form.Check name='completed' label='Completed' ref={register}/>\n                        </Form.Group>\n                        <Button type='submit' variant='outline-primary' block>Add</Button>\n                    </Form>\n                </Modal.Body>\n\n            </Modal>\n        </div>\n\n    )\n\n\n}\n\nexport default AddTodoForm\n\n\n"]},"metadata":{},"sourceType":"module"}